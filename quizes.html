<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Ubuntu&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/quiz.css">
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
</head>
<body>
    <!-- header -->
    <header class="header">
        <nav class="nav">
            <div class="logo">
                <div class="img-div">
                    <img src="images/logo.png" alt="" />
                </div>
                <div>
                    <h2>MindCare Hub</h2>
                </div>
            </div>
            <div class="mobile-nav-btn">
                <button onclick="openNav()">
                    <img src="images/Hamburger_icon.svg.png" alt="" />
                </button>
            </div>
            <div id="mobile-nav" class="mobile-nav">
                <div class="cross-icon">
                    <button onclick="closeNav()">
                        <svg fill="#000000" height="20px" width="20px" version="1.1" id="Capa_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            viewBox="0 0 490 490" xml:space="preserve">
                            <polygon points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 
                            489.292,457.678 277.331,245.004 489.292,32.337 " />
                        </svg>
                    </button>
                </div>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="resourcelibrary.html">Resources Library</a></li>
                    <li><a href="interactiveTools.html">Interactive Tools</a></li>
                    <li><a href="quizes.html" class="active">Quizes</a></li>
                    <li><a href="stress.html">Exercises</a></li>
                    <!-- <li><a href="campaign.html" >Campaign</a></li> -->
                    <li><a href="emergencyService.html">Emergency Service</a></li>
                    <li><a href="professionalTools.html">Professional Service</a></li>
                    <li><a href="contactus.html">Contact Us</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <!--end of header -->

    <!-- Quiz Section -->
    <section class="quiz-section">
        <div class="container">
            <h1>Self-Assessment Quiz</h1>
            <form id="quiz-form">
                <div class="question">
                    <label for="q1">How often do you feel anxious or nervous?</label>
                    <select id="q1" name="q1">
                        <option value="1">Almost never</option>
                        <option value="2">Sometimes</option>
                        <option value="3">Often</option>
                        <option value="4">Almost always</option>
                    </select>
                </div>
                <div class="question">
                    <label for="q2">How often do you feel sad or depressed?</label>
                    <select id="q2" name="q2">
                        <option value="1">Almost never</option>
                        <option value="2">Sometimes</option>
                        <option value="3">Often</option>
                        <option value="4">Almost always</option>
                    </select>
                </div>
                <div class="question">
                    <label for="q3">How often do you have trouble sleeping?</label>
                    <select id="q3" name="q3">
                        <option value="1">Almost never</option>
                        <option value="2">Sometimes</option>
                        <option value="3">Often</option>
                        <option value="4">Almost always</option>
                    </select>
                </div>
                <div class="question">
                    <label for="q4">How often do you feel overwhelmed?</label>
                    <select id="q4" name="q4">
                        <option value="1">Almost never</option>
                        <option value="2">Sometimes</option>
                        <option value="3">Often</option>
                        <option value="4">Almost always</option>
                    </select>
                </div>
                <div class="question">
                    <label for="q5">How often do you feel hopeless?</label>
                    <select id="q5" name="q5">
                        <option value="1">Almost never</option>
                        <option value="2">Sometimes</option>
                        <option value="3">Often</option>
                        <option value="4">Almost always</option>
                    </select>
                </div>
                <button type="submit">Submit</button>
            </form>
            <div id="results" class="results-section" style="display:none;">
                <canvas id="resultsChart"></canvas>
                <div id="feedback" class="feedback"></div>
                <div id="recommendations" class="recommendations"></div>
            </div>
            
        </div>
    </section>
    
    <!-- footer section -->
    <div class="footer-section">
        <div class="container">
            <div class="card">
                <div class="first-section">
                    <div class="img-div">
                        <img src="images/logo.png" alt="" />
                    </div>
                    <h2 class="title">MindCare Hub</h2>
                </div>
            </div>

            <div class="card quick-links-section">
                <div>
                    <h2 class="">QUICK LINKS</h2>
                    <ul>
                        <li><a href="index.html" class="active">Home</a></li>
                        <li><a href="resourcelibrary.html">Resources Library</a></li>
                        <li><a href="interactiveTools.html">Interactive Tools</a></li>
                        <li><a href="quizes.html">Quizes</a></li>
                        <li><a href="stress.html">Exercises</a></li>
                        <!-- <li><a href="campaign.html" >Campaign</a></li> -->
                        <li><a href="emergencyService.html">Emergency Service</a></li>
                        <li><a href="professionalTools.html">Professional Service</a></li>
                        <li><a href="contactus.html">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="card social-media-section">
                <div class="">
                    <h2 class="">Socials</h2>
                    <div class="social-medias">
                        <div class="facebook-icon">
                            <i class="fa-brands fa-facebook"></i>
                        </div>
                        <div class="instagram-icon">
                            <i class="fa-brands fa-instagram"></i>
                        </div>
                        <div class="twitter-icon">
                            <i class="fa-brands fa-twitter"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="bottom-footer">
        <h2>
            Copyright Â© 2024 <span>MindCare Hub</span>. All Rights Reserved
        </h2>
    </div>
    <!--end of footer section -->
</body>

<script>
    function closeNav() {
        var mobileNav = document.getElementById("mobile-nav");
        mobileNav.classList.remove("active");
    }
    function openNav() {
        var mobileNav = document.getElementById("mobile-nav");
        mobileNav.classList.add("active");
    }

</script>

<script>
    // Get references to the form and results section
    const quizForm = document.getElementById("quiz-form");
    const resultsSection = document.getElementById("results");
    const feedbackDiv = document.getElementById("feedback");
    const recommendationsDiv = document.getElementById("recommendations");
    const ctx = document.getElementById("resultsChart").getContext("2d");
    let resultsChart; // Variable to hold the chart instance
    
    // Event listener for form submission
    quizForm.addEventListener("submit", function (event) {
        event.preventDefault(); // Prevent the form from submitting the traditional way
    
        // Collect quiz answers and calculate anxiety and depression scores
        const anxietyScore = parseInt(document.getElementById("q1").value) +
                             parseInt(document.getElementById("q3").value) +
                             parseInt(document.getElementById("q4").value);
    
        const depressionScore = parseInt(document.getElementById("q2").value) +
                                parseInt(document.getElementById("q5").value);
    
        // Display the results section
        resultsSection.style.display = "block";
    
        // If a chart already exists, destroy it before creating a new one
        if (resultsChart) {
            resultsChart.destroy();
        }
    
        // Create a new pie chart to display the results
        resultsChart = new Chart(ctx, {
            type: 'pie',  // Change from 'bar' to 'pie'
            data: {
                labels: ['Anxiety', 'Depression'],
                datasets: [{
                    label: 'Score',
                    data: [anxietyScore, depressionScore], // The slices of the pie
                    backgroundColor: ['#36a2eb', '#ff6384'], // Colors for each slice
                    borderColor: ['#ffffff', '#ffffff'], // White border for each slice
                    borderWidth: 2 // Border thickness for clearer separation
                }]
            },
            options: {
                responsive: true, // Make sure the chart adjusts based on screen size
                plugins: {
                    legend: {
                        display: true, // Display the legend to identify the categories
                        position: 'bottom' // Position the legend at the bottom
                    }
                }
            }
        });
    
        // Provide feedback based on the scores
        if (anxietyScore <= 6 && depressionScore <= 4) {
            feedbackDiv.textContent = "Your results suggest mild anxiety and depression. Here's some self-care advice.";
            feedbackDiv.className = "feedback low";
    
            // Recommendations for mild anxiety and depression
            recommendationsDiv.innerHTML = `
                <h3>Self-Care Recommendations:</h3>
                <ul>
                    <li><strong>Practice mindfulness:</strong> Engage in mindfulness or meditation for 10-15 minutes daily.</li>
                    <li><strong>Physical exercise:</strong> Try moderate exercise like walking, yoga, or stretching to reduce anxiety.</li>
                    <li><strong>Connect with loved ones:</strong> Spend time with friends or family members to combat feelings of isolation.</li>
                    <li><strong>Establish a routine:</strong> Set small goals for daily activities to bring structure to your day.</li>
                    <li><strong>Sleep hygiene:</strong> Maintain a regular sleep schedule and avoid screens before bed for restful sleep.</li>
                    <li><strong>Limit caffeine and sugar:</strong> Reduce intake of stimulants that can heighten anxiety or irritability.</li>
                    <li><strong>Creative expression:</strong> Engage in hobbies like drawing, writing, or playing an instrument to relieve stress.</li>
                </ul>
            `;
            recommendationsDiv.className = "recommendations";
        } else {
            feedbackDiv.innerHTML = `
                <p>Your results indicate high anxiety and/or depression. Please contact a mental health professional for further assistance.</p>
                <a href="contact.html" class="contact-btn">Contact a Counselor</a>
            `;
            feedbackDiv.className = "feedback high";
    
            // Clear recommendations for high scores
            recommendationsDiv.innerHTML = "";
        }
    });
    
    
    document.getElementById('scheduleForm').addEventListener('submit', function(event) {
        event.preventDefault();
        
        // Display confirmation message after form submission
        document.getElementById('scheduleForm').style.display = 'none';
        document.getElementById('confirmation').style.display = 'block';
    });

    
</script>

</html>